@tailwind base;
@tailwind components;
@tailwind utilities;

/* Self-hosted Roboto fonts */
@layer base {
  @font-face {
    font-family: 'Roboto';
    font-style: normal;
    font-weight: 300;
    font-display: swap;
    src: url('../../vendor/fonts/roboto/roboto-latin-300-normal.woff2') format('woff2');
  }
  @font-face {
    font-family: 'Roboto';
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src: url('../../vendor/fonts/roboto/roboto-latin-400-normal.woff2') format('woff2');
  }
  @font-face {
    font-family: 'Roboto';
    font-style: normal;
    font-weight: 500;
    font-display: swap;
    src: url('../../vendor/fonts/roboto/roboto-latin-500-normal.woff2') format('woff2');
  }
  @font-face {
    font-family: 'Roboto';
    font-style: normal;
    font-weight: 600;
    font-display: swap;
    src: url('../../vendor/fonts/roboto/roboto-latin-600-normal.woff2') format('woff2');
  }
  @font-face {
    font-family: 'Roboto';
    font-style: normal;
    font-weight: 700;
    font-display: swap;
    src: url('../../vendor/fonts/roboto/roboto-latin-700-normal.woff2') format('woff2');
  }
}

/* Reusable component classes */
@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center px-6 py-3 bg-navy-700 text-white font-medium rounded-lg
           hover:bg-navy-800 focus:outline-none focus:ring-2 focus:ring-navy-500 focus:ring-offset-2
           transition-colors duration-200;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center px-6 py-3 bg-white text-navy-700 font-medium rounded-lg
           border border-navy-200 hover:bg-navy-50 focus:outline-none focus:ring-2 focus:ring-navy-500
           focus:ring-offset-2 transition-colors duration-200;
  }

  .btn-red {
    @apply inline-flex items-center justify-center px-6 py-3 bg-red-500 text-white font-medium rounded-lg
           hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2
           transition-colors duration-200;
  }

  .section-title {
    @apply text-2xl md:text-3xl font-bold text-gray-900;
  }

  .section-subtitle {
    @apply mt-2 text-gray-600 max-w-2xl;
  }

  .glass-card {
    @apply bg-white/90 backdrop-blur-md rounded-2xl shadow-lg border border-white/20 p-6 md:p-8;
  }

  .input-field {
    @apply block w-full rounded-lg border-gray-300 shadow-sm
           focus:border-navy-500 focus:ring-navy-500 text-sm;
  }

  .card-hover {
    @apply transition-all duration-300 hover:shadow-lg hover:-translate-y-1;
  }
}

/* Search: teal accent button for filter bar */
.btn-search {
  @apply inline-flex items-center justify-center px-5 py-2 bg-teal-600 text-white font-medium rounded-lg
         hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2
         transition-colors duration-200 text-sm;
}

/* Filter bar popover panels */
.filter-popover {
  @apply absolute top-full left-0 mt-1.5 bg-white border border-gray-200 rounded-xl shadow-lg z-50 p-4;
  min-width: 220px;
}

/* Active filter chips */
.filter-chip {
  @apply inline-flex items-center gap-1 px-2.5 py-1 bg-teal-50 text-teal-800 text-xs font-medium rounded-full
         border border-teal-200 transition-colors;
}
.filter-chip button {
  @apply text-teal-500 hover:text-teal-700 transition-colors;
}

/* Favorite heart button */
.fav-heart {
  @apply absolute top-3 right-3 z-10 w-8 h-8 flex items-center justify-center rounded-full
         bg-white/80 backdrop-blur-sm shadow-sm transition-all duration-200
         hover:bg-white hover:shadow-md;
}
.fav-heart svg {
  @apply w-4 h-4 text-gray-400 transition-colors;
}
.fav-heart.is-favorite svg {
  @apply text-red-500 fill-current;
}

/* Hide scrollbar for horizontal filter bar */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
  &::-webkit-scrollbar { display: none; }
}

/* Map Search: Price pin markers (Google Maps OverlayView) */
.bmn-pin {
  background: linear-gradient(135deg, #0891B2 0%, #0E7490 100%);
  color: #fff;
  font-size: 14px;
  font-weight: 700;
  padding: 8px 12px;
  border-radius: 8px;
  white-space: nowrap;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  position: relative;
  line-height: 1;
  letter-spacing: -0.01em;

  &::after {
    content: '';
    position: absolute;
    bottom: -6px;
    left: 50%;
    transform: translateX(-50%);
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-top: 6px solid #0E7490;
  }
}

.bmn-pin-highlighted,
.bmn-pin:hover {
  background: linear-gradient(135deg, #e04f3a 0%, #c0392b 100%);
  transform: scale(1.15);
  z-index: 10000 !important;
  box-shadow: 0 4px 12px rgba(224, 79, 58, 0.4);

  &::after {
    border-top-color: #c0392b;
  }
}

/* Resize handle between map and sidebar */
.bmn-resize-handle {
  width: 6px;
  cursor: col-resize;
  background-color: #e2e8f0;
  position: relative;
  flex-shrink: 0;
  align-items: center;
  justify-content: center;
  transition: background-color 0.15s ease;

  &:hover {
    background-color: #cbd5e1;
  }

  &:active {
    background-color: #94a3b8;
  }
}

.bmn-resize-handle-bar {
  width: 2px;
  height: 40px;
  background-color: #94a3b8;
  border-radius: 1px;
  opacity: 0.5;
  transition: opacity 0.15s ease, height 0.15s ease;
}

/* Google Maps InfoWindow overrides */
.gm-style-iw {
  padding: 0 !important;
  border-radius: 12px !important;
  overflow: hidden !important;
}

.gm-style-iw-d {
  overflow: hidden !important;
  max-height: none !important;
}

.gm-style .gm-style-iw-tc::after {
  background: #fff;
}
